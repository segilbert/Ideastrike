﻿@inherits Nancy.ViewEngines.Razor.NancyRazorViewBase
@{
    Layout = "Views/Shared/Layout.cshtml";
}
@functions{
    public string ValueOrNotSet(string value)
    {
        return string.IsNullOrEmpty(value) ? "[not set]" : value;
    }
}
<ul class="pills">
    <li><a href="/admin/">@Ideastrike.Nancy.Localization.Strings.Admin_Home</a></li>
    <li><a href="/admin/settings">@Ideastrike.Nancy.Localization.Strings.Admin_Settings</a></li>
    <li class="active"><a href="/admin/users">@Ideastrike.Nancy.Localization.Strings.Admin_Users</a></li>
    <li><a href="/admin/moderation">@Ideastrike.Nancy.Localization.Strings.Admin_Moderation</a></li>
</ul>

<ul>
@foreach (var u in Model.Users)
{ 
    <li><a href="/admin/user/@u.Id">@u.UserName</a></li>
}
</ul>


<h2>
    @Model.UserName @Ideastrike.Nancy.Localization.Strings.Profile 
    <small><a href="">Edit</a></small>
    <span class="gravatar pull-right">
        <img src="@Model.AvatarUrl" alt="gravatar" />
    </span>
</h2>

<hr />

<div class="well">
    <div class="clearfix">
        <span>Email:  @ValueOrNotSet(Model.Email)</span>
        <span>Github: @ValueOrNotSet(Model.Github)</span>
    </div>
</div>

<section>
    <h3>Claims:</h3>
    @if (Model.Claims.Count > 0)
    {
        <ul>
        @foreach (var i in Model.Claims)
        {
            <li>@i</li>
        }
        </ul>
    }
</section>

<section>
    <h3>Ideas submitted:</h3>
    @if (Model.Ideas.Count > 0)
    {
        <ul>
        @foreach (var idea in Model.Ideas)
        {
            <li class="span8 text"><a href="/idea/@idea.Id">@idea.Title</a></li>
        }
        </ul>
    }
    else
    {
        <span>No ideas yet.. Go ahead and create one!</span>
    }
</section>

<section>
    <h3>Features submitted:</h3>
    @if (Model.Features.Count > 0)
    {
        <ul>
        @foreach (var feature in Model.Features)
        {
             <li class="span8 text"><a href="/idea/@feature.Idea.Id">@feature.Idea.Title</a>
               <div class="row">
                    <div class="span8 text"><a href="/idea/@feature.Idea.Id#@feature.Id"><img src="@Url.Content("~/Resources/redcheck.jpg")" width="12px" height="12px" /></a> @feature.Text</div>
                </div>   
            </li>
        }
        </ul>
    }
    else
    {
        <span>No features yet..</span>
    }
</section>

<section>
    <h3>Votes:</h3>
    @if (Model.Votes.Count > 0)
    {
        <ul>
        @foreach (var vote in Model.Votes)
        {
            <li class="span8 text"><a href="/idea/@vote.Idea.Id">@vote.Idea.Title</a></li>
        }
        </ul>
    }
    else
    {
        <span>No votes yet..</span>
    }
</section>
